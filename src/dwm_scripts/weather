#!/bin/sh
# weather.sh â€” Use wttr.in's geolocation, remove country, and use text icons

# %l = location, %C = condition TEXT, %t = temperature
# &m forces metric units
out="$(curl -s "https://wttr.in/?format=%l:+%C+%t&m")" || exit 0

# 1. Use sed to remove the ", Country" part
# 2. Use xargs to trim leading/trailing spaces AND squeeze internal spaces
clean_out="$(printf "%s" "$out" | sed 's/, [^:]*//' | xargs)"

# Print the cleaned output with a newline
printf "%s" "$clean_out"
